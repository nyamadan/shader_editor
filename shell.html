<!doctype html>
<html lang="ja-jp">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Shader Editor</title>
  <style>
    html,
    body {
      overflow: hidden;
      width: 100%;
      height: 100%;
      margin: 0;
      border: 0;
      padding: 0;
    }
  </style>
</head>

<body>
  <canvas id="canvas"></canvas>
  <div>
    <progress value="0" max="100" id="progress" hidden=1></progress>
  </div>
  <script>
    const progressElement = document.getElementById('progress');

    var Module = {
      arguments: ["-linfo", "./assets"],
      preRun: [],
      postRun: [function () {
        Module.setCanvasSize(window.innerWidth, window.innerHeight);
        Module.canvas.focus();
      }],
      print: (function(){
        if (arguments.length > 1) {
          text = Array.prototype.slice.call(arguments).join(' ');
        }

        console.log(text);
      }),
      printErr: function(text) {
        if (arguments.length > 1) {
          text = Array.prototype.slice.call(arguments).join(' ');
        }
        console.error(text);
      },
      canvas: (function(){
        const canvas = document.getElementById("canvas");

        canvas.addEventListener("contextmenu", (e) => {
          e.preventDefault();
        });

        canvas.addEventListener("webglcontextlost", (e) => {
          alert('WebGL context lost. You will need to reload the page.');
          e.preventDefault();
        }, false);

        return canvas;
      })(),
      monitorRunDependencies: function (left) {
      }
    };

    window.addEventListener("resize", () => {
      Module.setCanvasSize(window.innerWidth, window.innerHeight);
    }, false);
  </script>
  {{{ SCRIPT }}}
</body>

</html>